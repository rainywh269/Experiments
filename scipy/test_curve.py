#encoding=utf-8
data = [ 18948 , 23597 , 25900 , 27263 , 28200 , 28920 , 29467 , 29889 , 30224 , 30506 , 30763 , 30980 , 31191 , 31372 , 31508 , 31640 , 31780 , 31906 , 31990 , 32097 , 32192 , 32272 , 32351 , 32418 , 32476 , 32529 , 32581 , 32645 , 32699 , 32746 , 32791 , 32840 , 32877 , 32913 , 32945 , 32986 , 33022 , 33050 , 33075 , 33113 , 33140 , 33174 , 33197 , 33217 , 33243 , 33268 , 33293 , 33305 , 33330 , 33348 , 33372 , 33388 , 33404 , 33419 , 33439 , 33457 , 33474 , 33490 , 33504 , 33520 , 33542 , 33549 , 33564 , 33575 , 33586 , 33600 , 33606 , 33626 , 33631 , 33641 , 33650 , 33661 , 33672 , 33676 , 33686 , 33690 , 33699 , 33707 , 33715 , 33721 , 33730 , 33738 , 33743 , 33753 , 33765 , 33777 , 33785 , 33791 , 33798 , 33806 , 33814 , 33825 , 33838 , 33842 , 33845 , 33855 , 33861 , 33864 , 33872 , 33878 , 33886 , 33897 , 33904 , 33911 , 33916 , 33924 , 33925 , 33929 , 33932 , 33941 , 33947 , 33952 , 33953 , 33963 , 33968 , 33973 , 33976 , 33979 , 33985 , 33990 , 33993 , 33994 , 33996 , 33999 , 34003 , 34005 , 34008 , 34011 , 34017 , 34021 , 34027 , 34031 , 34032 , 34034 , 34040 , 34044 , 34045 , 34048 , 34053 , 34057 , 34065 , 34067 , 34068 , 34071 , 34076 , 34077 , 34078 , 34078 , 34080 , 34083 , 34085 , 34086 , 34088 , 34092 , 34092 , 34094 , 34098 , 34099 , 34101 , 34102 , 34109 , 34110 , 34115 , 34119 , 34121 , 34123 , 34126 , 34129 , 34130 , 34133 , 34137 , 34137 , 34139 , 34142 , 34142 , 34144 , 34147 , 34149 , 34150 , 34153 , 34153 , 34154 , 34155 , 34157 , 34158 , 34160 , 34164 , 34165 , 34167 , 34168 , 34169 , 34170 , 34171 , 34171 , 34172 , 34175 , 34178 , 34180 , 34181 , 34183 , 34185 , 34187 , 34189 , 34189 , 34193 , 34198 , 34199 , 34200 , 34201 , 34202 , 34204 , 34204 , 34207 , 34207 , 34209 , 34211 , 34211 , 34212 , 34213 , 34214 , 34217 , 34218 , 34220 , 34221 , 34222 , 34223 , 34224 , 34225 , 34225 , 34225 , 34225 , 34226 , 34226 , 34227 , 34227 , 34227 , 34229 , 34229 , 34231 , 34232 , 34232 , 34234 , 34235 , 34235 , 34235 , 34235 , 34235 , 34235 , 34236 , 34236 , 34238 , 34238 , 34238 , 34238 , 34239 , 34239 , 34239 , 34240 , 34241 , 34241 , 34241 , 34242 , 34245 , 34246 , 34246 , 34246 , 34246 , 34246 , 34246 , 34246 , 34247 , 34248 , 34248 , 34250 , 34252 , 34252 , 34252 , 34253 , 34253 , 34254 , 34254 , 34254 , 34255 , 34255 , 34256 , 34256 , 34256 , 34258 , 34258 , 34260 , 34260 , 34260 , 34261 , 34262 , 34262 , 34262 , 34263 , 34263 , 34264 , 34264 , 34264 , ]
show_data = [ 8887289 , 11096111, 12426132, 13404090, 14183569, 14835391, 15394706, 15885403, 16322690, 16716958, 17075881, 17405566, 17709673, 17992364, 18256295, 18503788, 18736678, 18956703, 19164801, 19362151, 19549763, 19728479, 19898961, 20062118, 20218228, 20368063, 20511955, 20650277, 20783563, 20912082, 21036093, 21155912, 21271759, 21383823, 21492228, 21597337, 21699201, 21797985, 21893827, 21987011, 22077538, 22165655, 22251394, 22334992, 22416543, 22496104, 22573730, 22649557, 22723542, 22795891, 22866616, 22935781, 23003396, 23069615, 23134454, 23197948, 23260178, 23321124, 23380871, 23439508, 23496989, 23553460, 23608914, 23663328, 23716771, 23769209, 23820633, 23871162, 23920790, 23969571, 24017516, 24064682, 24111035, 24156593, 24201420, 24245463, 24288857, 24331572, 24373563, 24414903, 24455566, 24495569, 24534989, 24573845, 24612094, 24649788, 24686887, 24723443, 24759467, 24794963, 24829897, 24864297, 24898196, 24931623, 24964597, 24997136, 25029232, 25060898, 25092134, 25122947, 25153349, 25183335, 25212903, 25242095, 25270915, 25299368, 25327472, 25355196, 25382584, 25409621, 25436318, 25462698, 25488764, 25514533, 25539973, 25565113, 25589960, 25614502, 25638758, 25662713, 25686381, 25709809, 25732970, 25755867, 25778501, 25800872, 25822984, 25844857, 25866456, 25887800, 25908904, 25929769, 25950395, 25970805, 25990970, 26010909, 26030638, 26050149, 26069447, 26088529, 26107413, 26126096, 26144568, 26162850, 26180932, 26198821, 26216526, 26234025, 26251326, 26268450, 26285382, 26302124, 26318699, 26335086, 26351296, 26367341, 26383211, 26398912, 26414459, 26429841, 26445059, 26460122, 26475039, 26489809, 26504412, 26518852, 26533147, 26547312, 26561336, 26575223, 26588992, 26602634, 26616129, 26629485, 26642717, 26655829, 26668803, 26681632, 26694342, 26706922, 26719378, 26731709, 26743928, 26756022, 26768016, 26779907, 26791707, 26803380, 26814950, 26826421, 26837794, 26849086, 26860298, 26871408, 26882427, 26893350, 26904184, 26914927, 26925563, 26936113, 26946581, 26956955, 26967251, 26977480, 26987626, 26997704, 27007687, 27017597, 27027443, 27037199, 27046871, 27056467, 27066006, 27075469, 27084872, 27094197, 27103434, 27112621, 27121740, 27130788, 27139785, 27148728, 27157611, 27166436, 27175208, 27183912, 27192562, 27201142, 27209668, 27218141, 27226550, 27234899, 27243200, 27251455, 27259649, 27267791, 27275896, 27283960, 27291982, 27299959, 27307890, 27315772, 27323619, 27331412, 27339146, 27346830, 27354459, 27362046, 27369589, 27377088, 27384539, 27391943, 27399304, 27406617, 27413889, 27421119, 27428304, 27435457, 27442560, 27449625, 27456657, 27463639, 27470578, 27477478, 27484342, 27491168, 27497954, 27504709, 27511426, 27518100, 27524733, 27531332, 27537898, 27544428, 27550931, 27557401, 27563825, 27570219, 27576584, 27582903, 27589189, 27595443, 27601666, 27607860, 27614020, 27620144, 27626223, 27632272, 27638281, 27644246, 27650169, 27656065, 27661929, 27667750, 27673541, 27679303, 27685030, 27690734, 27696413, 27702053, 27707672, ]

from    scipy.optimize import fmin_bfgs
from numpy.polynomial.polynomial import polyfit
from scipy.optimize import fmin
import numpy as np
import scipy
import numpy
import pylab
import scipy.optimize as optimize

c, stats = polyfit(range(1, len(data)+1), data, 120, full=True)
x, stats = polyfit(range(1,len(show_data)+1), show_data,120, full=True)

l = c.tolist()
g = x.tolist()

f = scipy.poly1d(l[::-1])
f1 = scipy.poly1d(scipy.polyder(f))
f2 = scipy.poly1d(scipy.polyder(f1))
f3 = scipy.poly1d(scipy.polyder(f2))

g = scipy.poly1d(g[::-1])
g1 = scipy.poly1d(scipy.polyder(g))
g2 = scipy.poly1d(scipy.polyder(g1))
g3 = scipy.poly1d(scipy.polyder(g2))

t = numpy.arange(0.0, 30, 0.01)
#s = map(f,t)
s1 = map(f1,t)
s2 = map(f2,t)
s3 = map(f3,t)

r = map(g,t)
r1 = map(g1,t)
r2 = map(g2,t)
r3 = map(g3,t)
#pylab.plot(t, s,'#000000')
#pylab.plot(t, s1, 'g')
#pylab.plot(t, s2,'r')
#pylab.plot(t, s3,'r')
#
#pylab.plot(t, r1,'b')
pylab.plot(t, r2,'b')
pylab.plot(t, r3,'b')

pylab.xlabel('clicks (s)')
pylab.ylabel('showed (mV)')
pylab.title(u'delta2 and delta3')
pylab.grid(True)
pylab.savefig('simple_plot')

pylab.show()






